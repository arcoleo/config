OS=`uname -s`
HOST=`uname -n`
AT_WORK=0

source ~/at_work.sh

export PATH="${HOME}/bin:/usr/local/bin:/usr/local/sbin:/usr/local/mysql/bin:/usr/bin:/bin:/usr/sbin:/sbin"
export MANPATH="/usr/local/man:$MANPATH"

# Golang
export GOPATH=$HOME/go
export GOROOT=/usr/local/opt/go/libexec
export PATH=$PATH:$GOPATH/bin:$GOROOT/bin

# Rust
export PATH=$PATH:~/.cargo/bin

# Ruby
export PATH="$PATH:~/.rbenv/versions/2.5.1/bin"
eval "$(rbenv init - --no-rehash)"

# oh-my-zsh
source .zsh_omz
source $ZSH/oh-my-zsh.sh


# AsciiDoc
export XML_CATALOG_FILES=/usr/local/etc/xml/catalog

# You may need to manually set your language environment
# export LANG=en_US.UTF-8

# Preferred editor for local and remote sessions
# if [[ -n $SSH_CONNECTION ]]; then
#   export EDITOR='vim'
# else
#   export EDITOR='mvim'
# fi

# Compilation flags
export ARCHFLAGS="-arch x86_64"

# ssh
# export SSH_KEY_PATH="~/.ssh/id_rsa"

# Set personal aliases, overriding those provided by oh-my-zsh libs,
# plugins, and themes. Aliases can be placed here, though oh-my-zsh
# users are encouraged to define aliases within the ZSH_CUSTOM folder.
# For a full list of active aliases, run `alias`.
#
# Example aliases
# alias zshconfig="mate ~/.zshrc"
# alias ohmyzsh="mate ~/.oh-my-zsh"


export HISTSIZE=10000000
export SAVEHIST=$HISTSIZE
#export HISTFILE=~/Dropbox/config/zsh_history
# prevent entires from being recorded by preceding them with at least one space
setopt hist_ignore_space

# Brew Stuff
export PATH=/usr/local/opt/libxml2/bin:/usr/local/opt/sqlite/bin:${PATH}:/usr/local/opt/binutils/bin

source /usr/local/opt/git-extras/share/git-extras/git-extras-completion.zsh

# Python
eval "$(pyenv init -)"


fpath=(
    ~/.zfunc
    ~/.zfuncs
    ~/.zfuncs/**/*~*/(CVS)#(/N)
    "${fpath[@]}"
)

# fpath+=~/.zfunc
source ~/.zsh_alias
source $HOME/.oh-my-zsh/custom/plugins/zsh-histdb/sqlite-history.zsh
autoload -Uz arcoleo
autoload -Uz gsm
autoload -Uz add-zsh-hook
add-zsh-hook precmd histdb-update-outcome

if [[ ${AT_WORK} -eq 1 ]]; then
    source ~/at_work.zshrc
fi



# export PROMPT_COMMAND='log-recent -r $? -c "$(HISTTIMEFORMAT= history 1)" -p $$'
export PATH="/usr/local/opt/binutils/bin:$PATH"
export PATH="/usr/local/opt/curl/bin:$PATH"

# ssh-add -K
