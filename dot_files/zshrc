export PATH="$HOME/.cargo/bin:$PATH"

OS=`uname -s`
HOST=`uname -n`
AT_WORK=0

# Golang - we want manually installed Go to come before brew's go
export PATH=/usr/local/go/bin:$PATH
export GOPATH=$HOME/go
export PATH=$PATH:$GOPATH/bin
export GO111MODULE=on

export PATH="${PATH}:/usr/local/sbin:/usr/local/mysql/bin"
export MANPATH="/usr/local/man:$MANPATH"

# go env -w GOPROXY=direct
# go env -w GOSUMDB=off

# Rust
# export PATH=$PATH:~/.cargo/bin

# Ruby
export PATH="${PATH}:~/.rbenv/versions/2.5.1/bin"
eval "$(rbenv init - --no-rehash)"
# oh-my-zsh
source ~/.zsh_omz
source $ZSH/oh-my-zsh.sh


# AsciiDoc
export XML_CATALOG_FILES=/usr/local/etc/xml/catalog

# You may need to manually set your language environment
# export LANG=en_US.UTF-8

# Preferred editor for local and remote sessions
# if [[ -n $SSH_CONNECTION ]]; then
#   export EDITOR='vim'
# else
#   export EDITOR='mvim'
# fi

# Compilation flags
export ARCHFLAGS="-arch x86_64"

# ssh
# export SSH_KEY_PATH="~/.ssh/id_rsa"

export HISTSIZE=10000000
export SAVEHIST=$HISTSIZE

# prevent entires from being recorded by preceding them with at least one space
setopt hist_ignore_space

# Brew Stuff
export PATH=/usr/local/opt/libxml2/bin:/usr/local/opt/sqlite/bin:${PATH}:/usr/local/opt/binutils/bin

source /usr/local/opt/git-extras/share/git-extras/git-extras-completion.zsh

# Python
if command -v pyenv 1>/dev/null 2>&1; then
  eval "$(pyenv init -)"
  eval "$(pyenv virtualenv-init -)"
fi


fpath=(
    ~/.zfunc
    ~/.zfuncs
    ~/.zfuncs/**/*~*/(CVS)#(/N)
    "${fpath[@]}"
)

# fpath+=~/.zfunc
source ~/.zsh_alias
source $HOME/.oh-my-zsh/custom/plugins/zsh-histdb/sqlite-history.zsh
autoload -Uz arcoleo
autoload -Uz gsm
autoload -Uz add-zsh-hook
add-zsh-hook precmd histdb-update-outcome


# export PROMPT_COMMAND='log-recent -r $? -c "$(HISTTIMEFORMAT= history 1)" -p $$'
export PATH="/usr/local/opt/curl/bin:${PATH}"
export RIPGREP_CONFIG_PATH=${HOME}/.rg

# ssh-add -K

test -e "${HOME}/.iterm2_shell_integration.zsh" && source "${HOME}/.iterm2_shell_integration.zsh"

source ~/at_work.sh
if [[ ${AT_WORK} -eq 1 ]]; then
    source ~/work.zshrc
fi

export PATH="${HOME}/bin:${PATH}"

# dedupe PATH
export PATH=`printf %s "$PATH" | awk -v RS=: '{ if (!arr[$0]++) {printf("%s%s",!ln++?"":":",$0)}}'`

# python
#export LC_CTYPE=C 
#export LANG=C

# The next line updates PATH for the Google Cloud SDK.
if [ -f '/Users/darcoleo/google-cloud-sdk/path.zsh.inc' ]; then . '/Users/darcoleo/google-cloud-sdk/path.zsh.inc'; fi

# The next line enables shell command completion for gcloud.
if [ -f '/Users/darcoleo/google-cloud-sdk/completion.zsh.inc' ]; then . '/Users/darcoleo/google-cloud-sdk/completion.zsh.inc'; fi

[[ -s "/Users/darcoleo/.gvm/scripts/gvm" ]] && source "/Users/darcoleo/.gvm/scripts/gvm"
